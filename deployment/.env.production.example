# =============================================================================
# OnSocial Production Environment Variables — REFERENCE ONLY
# =============================================================================
# You do NOT need to create this file manually.
#
# Production deploys derive everything from two inputs:
#   1. NETWORK argument (testnet | mainnet) → account IDs, domains, keyrings
#   2. Google Secret Manager                → passwords, API keys
#
# Deploy:
#   deployment/deploy-production.sh testnet 135.181.110.183
#
# The deploy script generates .env.production ON THE SERVER by:
#   - Deriving network config from the NETWORK argument (case statement)
#   - Pulling secrets from GSM via scripts/pull-secrets.sh
#
# Local preview (debugging only):
#   scripts/generate-env.sh testnet
#
# Manage secrets in GSM:
#   scripts/setup-secrets.sh                                            # create
#   echo -n 'value' | gcloud secrets versions add SECRET_NAME --data-file=-
#
# Below shows what the generated .env.production looks like for reference.
# =============================================================================

# --- Derived from NETWORK=testnet ---
NEAR_NETWORK=testnet
RELAYER_ACCOUNT_ID=relayer.onsocial.testnet
RELAYER_CONTRACT_ID=core.onsocial.testnet
SOCIAL_TOKEN_CONTRACT=token.onsocial.testnet
STAKING_CONTRACT=staking.onsocial.testnet
MARKETPLACE_CONTRACT=marketplace.onsocial.testnet
GCP_KMS_KEYRING_0=relayer-keys-testnet
GCP_KMS_KEYRING_1=relayer-keys-inst-1
PUBLIC_DOMAIN=testnet.onsocial.id
CORS_ORIGINS=https://testnet.onsocial.id,http://localhost:3000
HASURA_GRAPHQL_CORS_DOMAIN=https://testnet.onsocial.id,http://localhost:3000

# --- Pulled from Google Secret Manager at deploy time ---
POSTGRES_PASSWORD=<pulled from GSM>
HASURA_ADMIN_SECRET=<pulled from GSM>
JWT_SECRET=<pulled from GSM>
LIGHTHOUSE_API_KEY=<pulled from GSM>
RELAYER_API_KEY=<pulled from GSM>
LAVA_API_KEY=<pulled from GSM>
GRAPH_API_KEY=<pulled from GSM>
GRAPH_DEPLOY_KEY=<pulled from GSM>
SUBSTREAMS_API_TOKEN=<pulled from GSM>

# --- Non-secret defaults (from pull-secrets.sh) ---
POSTGRES_USER=onsocial
POSTGRES_DB=onsocial_indexer
GCP_KMS_PROJECT=onsocial-protocol
GCP_KMS_LOCATION=global
GCP_KMS_POOL_SIZE=3
GCP_KMS_ADMIN_KEY=admin-key
RELAYER_MIN_KEYS=2
RELAYER_MAX_KEYS=20
RELAYER_WARM_BUFFER=2
RELAYER_MAX_KEY_AGE=86400
